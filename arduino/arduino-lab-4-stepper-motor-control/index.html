<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta name="robots" content="noindex, nocache, nofollow, noarchive, nosnippet, notranslate, noimageindex, noodp, noydir">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
	<meta name="author" content="Steve Ellermann">
	<meta name="copyright" content="Copyright © 2024 Steve Ellermann. All Rights Reserved. Content (including text, graphics, artwork, audio, video, documents, and other media formats) available on this website are for educational purpose only and are properties of their respective owners. The use of these names, logos and brands does not imply endorsement.">
    <link rel="stylesheet" href="https://notes.ellermann.com/main.css">
    <link rel="icon" href="https://notes.ellermann.com/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Programming Notes | Arduino Lab # 4 - Stepper Motor Control </title>
</head>
<body>

<main>
    
    <nav>
            <a href="https:&#x2F;&#x2F;notes.ellermann.com&#x2F;">
                        <img src="https://notes.ellermann.com/logo.svg" alt="logo"/>
                    </a>
                <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="logic"
                           />
                    <label class="tree-toggle-label"
                           for="logic">Logic</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/logic/logic/">Table Of Contents - Logic </a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-basic-truth-tables-using-boolean-values-of-true-or-false/">Basic Truth Tables Using Boolean Values Of True and False</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-getyorn/">The getYorN() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-logical-operators/">Logical Operators</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-relational-operators -decision-structures-and-boolean-logic/">Relational Operators</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="input-validation"
                           />
                    <label class="tree-toggle-label"
                           for="input-validation">Input Validation</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation/">Table of Contents - Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-getvalidnumber-template-input-validation/">getValidNumber() Template Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-isinvalid-template-input-validation/">isInvalid() Template Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-one-function-input-validation-model/">One-Function Input Validation Model</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-two-function-input-validation-model/">Two-Function Input Validation Model</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-validating-string-data/">Validating String Data</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-examples-of-common-string-library-functions/">Examples of Common String Library Functions</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-common-input-values-to-test-for/">Common Input Values To Test For</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="loops"
                           />
                    <label class="tree-toggle-label"
                           for="loops">Loops</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/loops/loops/">Table Of Contents - Loops </a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-three-types-of-loops-do-while-while-and-for/">Three Types of Loops: The Do-While Loop, The While Loop, and The For Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-which-loop-to-use/">Which loop to use</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-do-while-loop-post-test-loop/">Do-While Loop - (Post-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-pre-test-loop/">While-Loop - (Pre-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-for-loop-pre-test-loop/">For-Loop - (Pre-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-nested-loops/">Nested Loops</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-wantstocontinue-loop/">wantsToContinue Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-game-loop/">Game Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-counting-loop-pre-test-loop-and-post-test-loop/">Counting Loop - (Pre-Test Loop and Post-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-input-while-loop-with-a-sentinel-value/">Input While-Loop With A Sentinel Value</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-standard-input-sentinel-loop/">Standard Input-Sentinel Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-example/">While Loop Example</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-general-format-in-pseudocode/">While Loop in Pseudocode</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-terminology/">Terminology - Loops</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="methods"
                           />
                    <label class="tree-toggle-label"
                           for="methods">Methods</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/methods/methods/">Table Of Contents - Methods</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getstring/">The getString() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getinteger/">The getInteger() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getdouble/">The getDouble() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getyorn/">The getString() Method in Pseudocode and Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-closescanner/">The closeScanner() Method In Pseudocode And Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getrandomnumber/">The getRandomNumber() Method in Pseudocode and Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-general-input-methods-in-java/">Generalized Input Functions In Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-terminology/">Terminology - Modules And Functions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="arrays"
                           />
                    <label class="tree-toggle-label"
                           for="arrays">Arrays</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/arrays/arrays/">Table Of Contents - Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-one-dimensional-arrays-pseudocode/">One-Dimensional Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-two-dimensional-arrays-in-pseudocode/">Two-Dimensional Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-initializing-array-with-random-unique-values/">Initializing an Array with Random Unique Values</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-key-array-skills/">Key Array Skills</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="ternary-examples"
                           />
                    <label class="tree-toggle-label"
                           for="ternary-examples">Ternary Examples</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/ternary/ternary/">Table of Contents - Ternary Examples</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/ternary/ternary-enhanced-for-loops-short-form-for-loops-examples/">Enhanced For Loops</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/ternary/ternary-enhanced-if-statements-short-form-if-statments-examples/">Enhanced If Statements (Short Form If Statements)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="menus"
                           />
                    <label class="tree-toggle-label"
                           for="menus">Menus</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/menus/menus/">Table of Contents - Menus</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/menus/menus-practicemenu/">Practice Menu</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="object-oriented-programming"
                           />
                    <label class="tree-toggle-label"
                           for="object-oriented-programming">Object Oriented Programming</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/oop/oop/">Table of Contents - Object-Oriented Programming (OOP)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/oop-terminology/">Object-Oriented Programming (OOP) Terminology</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/object-oriented-programming/">Object-Oriented Programming (OOP)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/oop-review-questions/">Object-Oriented Programming (OOP) Review Questions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="arduino"
                           checked/>
                    <label class="tree-toggle-label"
                           for="arduino">Arduino</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/arduino/arduino/">Table Of Contents - Arduino</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-0-system-test-verification/">Arduino Lab # 0 - System Verification Test</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-1-passive-buzzer/">Arduino Lab # 1 - Passive Buzzer</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-2-servo-motor/">Arduino Lab # 2 - Servo Motor</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/">Arduino Lab # 3 - Ultrasonic Sensor</a>
                            </li>

                            <li class="active">
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/">Arduino Lab # 4 - Stepper Motor Control</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Arduino_Lab_#_4_-_Stepper_Motor_Control">Arduino Lab # 4 - Stepper Motor Control</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Overview">Overview</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Requirements:">Requirements:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Datasheets:">Datasheets:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Required_Libraries:">Required Libraries:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Component_Introduction">Component Introduction</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#28BYJ-48_–_5V_Stepper_Motor">28BYJ-48 – 5V Stepper Motor</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Stepper_motor_28BYJ-48_Parameters">Stepper motor 28BYJ-48 Parameters</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Interfacing_Circuits">Interfacing Circuits</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Wiring_Diagram">Wiring Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Breadboard_Power_Supply">Breadboard Power Supply</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#MB-V2_Breadboard_Power_Supply_Module">MB-V2 Breadboard Power Supply Module</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Product_Specifications:">Product Specifications:</a>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Setting_up_output_voltage_of_the_breadboard_power_supply_module:">Setting up output voltage of the breadboard power supply module:</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Important_Note:">Important Note:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#ULN2003_Driver_Board">ULN2003 Driver Board</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#ULN2003_Stepper_Motor_Driver_Module_PCB">ULN2003 Stepper Motor Driver Module PCB</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Product_Description">Product Description</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#The_sequence_would_go_like_this:">The sequence would go like this:</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Connection">Connection</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Schematic">Schematic</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Wiring_Diagram-1">Wiring Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Example_Photo">Example Photo</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Code">Code</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Lab04ArduinoStepperExample.ino">Lab04ArduinoStepperExample.ino</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Now_upload_the_code_to_the_Arduino_UNO_R3.">Now upload the code to the Arduino UNO R3.</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Modify_The_Lab04ArduinoStepperExample.ino_Code_For_The_Lab">Modify The Lab04ArduinoStepperExample.ino Code For The Lab</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Source_Code_For_Lab_4:">Source Code For Lab 4:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Now_upload_the_code_to_the_Arduino_UNO_R3.-1">Now upload the code to the Arduino UNO R3.</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#How_to_upload_a_sketch_with_the_Arduino_IDE_2">How to upload a sketch with the Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Requirements">Requirements</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Verify_vs_Upload">Verify vs Upload</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Uploading_a_Sketch">Uploading a Sketch</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Please_Read_(Only_Linux_Users)">Please Read (Only Linux Users)</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#How_To_Add_Library_Files_To_The_Arduino_IDE">How To Add Library Files To The Arduino IDE</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#How_To_Add_Library_Files_To_The_Arduino_IDE_2">How To Add Library Files To The Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#How_to_install_a_library_with_the_Arduino_IDE_2">How to install a library with the Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Requirements-1">Requirements</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Why_Use_Libraries?">Why Use Libraries?</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Installing_a_Library">Installing a Library</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/#Including_a_Library">Including a Library</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-5-simulation-of-collision-avoidance-system/">Arduino Lab # 5 - Simulation of Collision Avoidance System</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-resources/">Arduino Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-how-to-install-a-library/">Arduino - How To Install A Library</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-how-to-upload-a-sketch/">Arduino - How To Upload a Sketch</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="resources"
                           />
                    <label class="tree-toggle-label"
                           for="resources">Resources</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/resources/resources/">Table Of Contents - Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/java-programming-resources/">Java Programming Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/installing-the-java-development-kit/">Installing the Java Development Kit (JDK) and the Java Runtime Environment (JRE)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/eclipse-ide-how-to-find-matching-brackets-and-missing-brackets/">Eclipse IDE: How To Find Matching Brackets and Missing Brackets</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/diataxis-a-systematic-approach-to-technical-documentation-authoring/">Diátaxis: A systematic approach to technical documentation authoring.</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h3 id="Arduino_Lab_#_4_-_Stepper_Motor_Control">Arduino Lab # 4 - Stepper Motor Control&nbsp;<a class="anchor" href="#Arduino_Lab_#_4_-_Stepper_Motor_Control">&#xE732;</a></h3>
<h4 id="Overview">Overview&nbsp;<a class="anchor" href="#Overview">&#xE732;</a></h4>
<p>In this lab, you will learn a fun and easy way to drive a stepper motor.</p>
<h4 id="Requirements:">Requirements:&nbsp;<a class="anchor" href="#Requirements:">&#xE732;</a></h4>
<ul>
<li>Arduino IDE (Arduino 2 was used for this document)</li>
<li>(1) x Arduino Uno R3 or Elegoo Uno R3</li>
<li>(1) x 830 tie-point plug -in Solderless Breadboard</li>
<li>(1) x ULN2003 stepper motor driver module PCB</li>
<li>(1) x 28BYJ-48 – 5V Stepper Motor</li>
<li>(1) x 9V 1A Snap-On Connector Clip Adapter</li>
<li>(1) x 9V battery</li>
<li>(1) x MB-V2 Breadboard Power Supply Module</li>
<li>(6) x F-M wires (Female to Male DuPont wires)</li>
<li>(1) x M-M wire (Male to Male jumper wire)</li>
</ul>
<h4 id="Datasheets:">Datasheets:&nbsp;<a class="anchor" href="#Datasheets:">&#xE732;</a></h4>
<ul>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/ArduinoUNOR3Datasheet.pdf">Arduino UNO R3 Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/ELEGOOUNOR3BoardDatasheet.pdf">ELEGOO UNO R3 Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/830430Tie-PointsBreadboardDatasheet.pdf">830 tie-point plug -in Solderless Breadboard</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/ULN2003AStepperMotorDriverDatasheet.pdf">ULN2003 stepper motor driver module PCB</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/28BYJ-48StepperMotorDatasheet.pdf">28BYJ-48 – 5V Stepper Motor Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/9VDCBatteryDatasheet.pdf">9V battery</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/MB-V2BreadboardPowerSupplyModuleDatasheet.pdf">MB-V2 Breadboard Power Supply Module</a></li>
</ul>
<h4 id="Required_Libraries:">Required Libraries:&nbsp;<a class="anchor" href="#Required_Libraries:">&#xE732;</a></h4>
<ul>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Stepper-1.3.3.zip">Stepper.zip</a> version 1.1.3 was used for this document. More info can be found at <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.arduino.cc/reference/en/libraries/stepper/">https://www.arduino.cc/reference/en/libraries/stepper/</a> and the GitHub repository is located at <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/arduino-libraries/Stepper">https://github.com/arduino-libraries/Stepper</a>.</li>
</ul>
<h4 id="Component_Introduction">Component Introduction&nbsp;<a class="anchor" href="#Component_Introduction">&#xE732;</a></h4>
<h4 id="28BYJ-48_–_5V_Stepper_Motor">28BYJ-48 – 5V Stepper Motor&nbsp;<a class="anchor" href="#28BYJ-48_–_5V_Stepper_Motor">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img00.png" alt="28BYJ-48 – 5V Stepper Motor" /></p>
<p>A stepper motor is an electromechanical device which converts electrical pulses into discrete mechanical movements. The shaft or spindle of a stepper motor rotates in discrete step increments when electrical command pulses are applied to it in the proper sequence. The motors rotation has several direct relationships to these applied input pulses. The sequence of the applied pulses is directly related to the direction of motor shafts rotation. The speed of the motor shafts rotation is directly related to the frequency of the input pulses and the length of rotation is directly related to the number of input pulses applied. One of the most significant advantages of a stepper motor is its ability to be accurately controlled in an open loop system. Open loop control means no feedback information about position is needed. This type of control eliminates the need for expensive sensing and feedback devices such as optical encoders. Your position is known simply by keeping track of the input step pulses.</p>
<h3 id="Stepper_motor_28BYJ-48_Parameters">Stepper motor 28BYJ-48 Parameters&nbsp;<a class="anchor" href="#Stepper_motor_28BYJ-48_Parameters">&#xE732;</a></h3>
<ul>
<li>Model: 28BYJ-48</li>
<li>Rated voltage: 5V DC</li>
<li>Number of Phase: 4</li>
<li>Speed Variation Ratio: 1 / 64</li>
<li>Stride Angle: 5.625° / 64</li>
<li>Frequency: 100Hz</li>
<li>DC resistance: 50Ω ±7% (25°C)</li>
<li>Idle In-traction Frequency: &gt; 600Hz</li>
<li>Idle Out-traction Frequency: &gt; 1000Hz</li>
<li>In-traction Torque &gt; 34.3mN.m (120Hz)</li>
<li>Self-positioning Torque &gt; 34.3mN.m</li>
<li>Friction torque: 600-1200 gf.cm</li>
<li>Pull in torque: 300 gf.cm</li>
<li>Insulated resistance &gt; 10MΩ (500V)</li>
<li>Insulated electricity power: 600VAC / 1mA / 1s</li>
<li>Insulation grade: A</li>
<li>Rise in Temperature &lt; 40K(120Hz)</li>
<li>Noise &lt; 35dB (120Hz, No load, 10cm)</li>
</ul>
<h4 id="Interfacing_Circuits">Interfacing Circuits&nbsp;<a class="anchor" href="#Interfacing_Circuits">&#xE732;</a></h4>
<h4 id="Wiring_Diagram">Wiring Diagram&nbsp;<a class="anchor" href="#Wiring_Diagram">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img02.png" alt="Wiring Diagram" /></p>
<p>The bipolar stepper motor usually has four wires coming out of it. Unlike unipolar steppers, bipolar steppers have no common center connection. They have two independent sets of coils instead. You can distinguish them from unipolar steppers by measuring the resistance between the wires. You should find two pairs of wires with equal resistance. If you’ve got the leads of your meter connected to two wires that are not connected (i.e. not attached to the same coil), you should see infinite resistance (or no continuity).</p>
<h4 id="Breadboard_Power_Supply">Breadboard Power Supply&nbsp;<a class="anchor" href="#Breadboard_Power_Supply">&#xE732;</a></h4>
<h4 id="MB-V2_Breadboard_Power_Supply_Module">MB-V2 Breadboard Power Supply Module&nbsp;<a class="anchor" href="#MB-V2_Breadboard_Power_Supply_Module">&#xE732;</a></h4>
<p>The small DC motor is likely to use more power than an UNO R3 board digital output can handle directly. If we tried to connect the motor straight to an UNO R3 board pin, there is a good chance that it could damage the UNO R3 board. So we use a power supply module provides power supply.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img09.png" alt="Breadboard Power Supply Module" /></p>
<h3 id="Product_Specifications:">Product Specifications:&nbsp;<a class="anchor" href="#Product_Specifications:">&#xE732;</a></h3>
<ul>
<li>Locking On/Off Switch</li>
<li>LED Power Indicator</li>
<li>Input voltage: 6.5-9v (DC) via 5.5mm x 2.1mm plug</li>
<li>Output voltage: 3.3V/5v</li>
<li>Maximum output current: 700 mA</li>
<li>Independent control rail output. 0v, 3.3v, 5v to breadboard</li>
<li>Output header pins for convenient external use</li>
<li>Size: 2.1 in x 1.4 in</li>
<li>USB device connector onboard to power external device</li>
</ul>
<h3 id="Setting_up_output_voltage_of_the_breadboard_power_supply_module:">Setting up output voltage of the breadboard power supply module:&nbsp;<a class="anchor" href="#Setting_up_output_voltage_of_the_breadboard_power_supply_module:">&#xE732;</a></h3>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img10.png" alt="Setting up output voltage of the breadboard power supply module" /></p>
<p>The left and right voltage output can be configured independently. To select the output voltage, move jumper to the corresponding pins. Note: power indicator LED and the breadboard power rails will not power on if both jumpers are in the “OFF” position.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img11.png" alt="Breadboard power supply module jumper position" /></p>
<h4 id="Important_Note:">Important Note:&nbsp;<a class="anchor" href="#Important_Note:">&#xE732;</a></h4>
<p>Make sure that you align the module correctly on the breadboard. The negative pin(-) on module lines up with the blue line(-) on breadboard and that the positive pin(+) lines up with the red line(+). Failure to do so could result in you accidentally reversing the power to your project.</p>
<h4 id="ULN2003_Driver_Board">ULN2003 Driver Board&nbsp;<a class="anchor" href="#ULN2003_Driver_Board">&#xE732;</a></h4>
<h4 id="ULN2003_Stepper_Motor_Driver_Module_PCB">ULN2003 Stepper Motor Driver Module PCB&nbsp;<a class="anchor" href="#ULN2003_Stepper_Motor_Driver_Module_PCB">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img03.png" alt="ULN2003 Stepper Motor Driver Module PCB" /></p>
<h4 id="Product_Description">Product Description&nbsp;<a class="anchor" href="#Product_Description">&#xE732;</a></h4>
<ul>
<li>Size: 42 mm x 30 mm</li>
<li>Use ULN2003 driver chip, 500mA</li>
<li>A B C D LED indicating the four phase stepper motor working condition.</li>
<li>White jack is the four phase stepper motor standard jack.</li>
<li>Power pins are separated</li>
<li>We kept the rest pins of the ULN2003 chip for your further prototyping.</li>
</ul>
<p>The simplest way of interfacing a unipolar stepper to Arduino is to use a breakout for ULN2003A transistor array chip. The ULN2003A contains seven Darlington transistor drivers and is somewhat like having seven TIP120 transistors all in one package. The ULN2003A can pass up to 500 mA per channel and has an internal voltage drop of about 1V when on. It also contains internal clamp diodes to dissipate voltage spikes when driving inductive loads. To control the stepper, apply voltage to each of the coils in a specific sequence.</p>
<h3 id="The_sequence_would_go_like_this:">The sequence would go like this:&nbsp;<a class="anchor" href="#The_sequence_would_go_like_this:">&#xE732;</a></h3>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img04.png" alt="Sequence" /></p>
<p>Here are schematics showing how to interface a unipolar stepper motor to four controller pins using a ULN2003A, and showing how to interface using four com.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img05.png" alt="Schematic" /></p>
<h4 id="Connection">Connection&nbsp;<a class="anchor" href="#Connection">&#xE732;</a></h4>
<h4 id="Schematic">Schematic&nbsp;<a class="anchor" href="#Schematic">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img06.png" alt="Connection Schematic" /></p>
<h4 id="Wiring_Diagram-1">Wiring Diagram&nbsp;<a class="anchor" href="#Wiring_Diagram-1">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img07.png" alt="Wiring Diagram" /></p>
<p>We are using 4 pins to control the Stepper. </p>
<p>Pin 8-11 are controlling the Stepper motor. </p>
<p>We connect the Ground from to UNO to the Stepper motor.</p>
<h4 id="Example_Photo">Example Photo&nbsp;<a class="anchor" href="#Example_Photo">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img08.png" alt="Example Photo" /></p>
<h4 id="Code">Code&nbsp;<a class="anchor" href="#Code">&#xE732;</a></h4>
<p>After wiring, please open the example program <strong><a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Lab04ArduinoStepperExample.ino">Lab04ArduinoStepperExample.ino</a></strong> in the Arduino IDE and click <strong>UPLOAD</strong> to upload the program from the Arduino IDE.</p>
<p>Before you can run this, make sure that you have installed the <strong><a href="Stepper-1.1.3.zip" target="_blank">Stepper.zip</a></strong> library or re-install it to the Arduino IDE, if necessary. Otherwise, your code won't work.</p>
<p>For details about loading the library file, see How &quot;How To Add Library Files To The Arduino IDE&quot; at the bottom of this document.</p>
<h4 id="Lab04ArduinoStepperExample.ino">Lab04ArduinoStepperExample.ino&nbsp;<a class="anchor" href="#Lab04ArduinoStepperExample.ino">&#xE732;</a></h4>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#a7adba;">// Lab04ArduinoStepperExample.ino
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Library Required: Stepper.zip
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">//www.elegoo.com
</span><span style="color:#a7adba;">//2018.10.25
</span><span>
</span><span style="color:#a7adba;">/*
</span><span style="color:#a7adba;">  Stepper Motor Control - one revolution
</span><span style="color:#a7adba;">
</span><span style="color:#a7adba;">  This program drives a unipolar or bipolar stepper motor.
</span><span style="color:#a7adba;">  The motor is attached to digital pins 8 - 11 of the Arduino.
</span><span style="color:#a7adba;">
</span><span style="color:#a7adba;">  The motor should revolve one revolution in one direction, then
</span><span style="color:#a7adba;">  one revolution in the other direction.
</span><span style="color:#a7adba;">
</span><span style="color:#a7adba;">*/
</span><span>
</span><span style="color:#b48ead;">#include </span><span>&lt;</span><span style="color:#a3be8c;">Stepper.h</span><span>&gt;
</span><span>
</span><span style="color:#b48ead;">const int</span><span> stepsPerRevolution = </span><span style="color:#d08770;">2048</span><span>;  </span><span style="color:#a7adba;">// change this to fit the number of steps per revolution
</span><span style="color:#b48ead;">const int</span><span> rolePerMinute = </span><span style="color:#d08770;">15</span><span>;         </span><span style="color:#a7adba;">// Adjustable range of 28BYJ-48 stepper is 0~17 rpm
</span><span>
</span><span style="color:#a7adba;">// initialize the stepper library on pins 8 through 11:
</span><span>Stepper </span><span style="color:#8fa1b3;">myStepper</span><span>(</span><span style="color:#bf616a;">stepsPerRevolution</span><span>, </span><span style="color:#d08770;">8</span><span>, </span><span style="color:#d08770;">10</span><span>, </span><span style="color:#d08770;">9</span><span>, </span><span style="color:#d08770;">11</span><span>);
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">setup</span><span>() {
</span><span>  myStepper.</span><span style="color:#bf616a;">setSpeed</span><span>(rolePerMinute);
</span><span>  </span><span style="color:#a7adba;">// initialize the serial port:
</span><span>  Serial.</span><span style="color:#bf616a;">begin</span><span>(</span><span style="color:#d08770;">9600</span><span>);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">loop</span><span>() {  
</span><span>  </span><span style="color:#a7adba;">// step one revolution  in one direction:
</span><span>  Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;">clockwise</span><span>&quot;);
</span><span>  myStepper.</span><span style="color:#bf616a;">step</span><span>(stepsPerRevolution);
</span><span>  </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">500</span><span>);
</span><span>
</span><span>  </span><span style="color:#a7adba;">// step one revolution in the other direction:
</span><span>  Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;">counterclockwise</span><span>&quot;);
</span><span>  myStepper.</span><span style="color:#bf616a;">step</span><span>(-stepsPerRevolution);
</span><span>  </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">500</span><span>);
</span><span>}
</span></code></pre>
<h4 id="Now_upload_the_code_to_the_Arduino_UNO_R3.">Now upload the code to the Arduino UNO R3.&nbsp;<a class="anchor" href="#Now_upload_the_code_to_the_Arduino_UNO_R3.">&#xE732;</a></h4>
<h4 id="Modify_The_Lab04ArduinoStepperExample.ino_Code_For_The_Lab">Modify The <strong>Lab04ArduinoStepperExample.ino</strong> Code For The Lab&nbsp;<a class="anchor" href="#Modify_The_Lab04ArduinoStepperExample.ino_Code_For_The_Lab">&#xE732;</a></h4>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span>Initialize direction = </span><span style="color:#d08770;">0     
</span><span style="color:#bf616a;">loop</span><span>()
</span><span>{ 
</span><span>	toggle direction;
</span><span> 
</span><span>	</span><span style="color:#b48ead;">if </span><span>(direction==</span><span style="color:#d08770;">1</span><span>)
</span><span>	  {
</span><span>	   move stepper motor clockwise </span><span style="color:#b48ead;">for </span><span style="color:#d08770;">10</span><span> seconds;
</span><span>	  }
</span><span> 
</span><span>	</span><span style="color:#b48ead;">if </span><span>(direction==</span><span style="color:#d08770;">0</span><span>) 
</span><span>            { 
</span><span>	   move stepper motor counterclockwise </span><span style="color:#b48ead;">for </span><span style="color:#d08770;">10</span><span> seconds; 
</span><span>	   }
</span><span>} 
</span><span>repeat </span><span style="color:#8fa1b3;">continuously
</span></code></pre>
<h4 id="Source_Code_For_Lab_4:">Source Code For Lab 4:&nbsp;<a class="anchor" href="#Source_Code_For_Lab_4:">&#xE732;</a></h4>
<ul>
<li>Download Ardunio Source Code File: <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Lab04Arduino.ino">Lab04Arduino.ino</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Stepper.zip">Stepper-1.1.3.zip</a></li>
</ul>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#a7adba;">// Lab04Arduino.ino
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Author: Steve Ellermann
</span><span style="color:#a7adba;">// Created: 2023-03-21
</span><span style="color:#a7adba;">// Modified: 2023-03-22
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// This program drives a unipolar or bipolar stepper motor.
</span><span style="color:#a7adba;">// The motor is attached to digital pins 8 - 11 of the Arduino.
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// The stepper motor should revolve clockwise for 10 seconds, then stepper
</span><span style="color:#a7adba;">// motor should revolve counterclockwise for 10 seconds.
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Library Required: Stepper.zip
</span><span style="color:#a7adba;">// https://github.com/arduino-libraries/Stepper
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Components Used:
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Arduino UNO R3 or Elegoo UNO R3
</span><span style="color:#a7adba;">// 28BYJ-48 Stepper Motor
</span><span style="color:#a7adba;">// 4 Phase ULN2003A Stepper Motor Driver PCB
</span><span style="color:#a7adba;">// MB-V2 Breadboard Power Supply Module
</span><span style="color:#a7adba;">// 830 Tie Point Solderless Plug-In Breadboard
</span><span style="color:#a7adba;">// 9V Battery
</span><span style="color:#a7adba;">// 9V Battery Snap-On Connector Clip
</span><span style="color:#a7adba;">// USB A to USB B connector Cable
</span><span style="color:#a7adba;">// (6) x F-M wires (Female to Male DuPont wires)
</span><span style="color:#a7adba;">// (1) x M-M wire (Male to Male jumper wire)
</span><span style="color:#a7adba;">// (1) x wire twist tie
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Wiring
</span><span style="color:#a7adba;">// -----------------------------------
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB INT1 to 11
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB INT2 to 10
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB INT3 to 9
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB INT4 to 8
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB - to Breadboard -5V 
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB + to Breadboard +5V
</span><span style="color:#a7adba;">// Stepper Motor Driver PCB: Stepper moto plugs into stepper motor driver PCB
</span><span style="color:#a7adba;">// Arduino UNO R3 or Elegoo UNO R3 Power GND to Breadboard -3.3V
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// -----------------------------------
</span><span>
</span><span style="color:#a7adba;">// libraries
</span><span style="color:#b48ead;">#include </span><span>&lt;</span><span style="color:#a3be8c;">Stepper.h</span><span>&gt;
</span><span>
</span><span style="color:#a7adba;">// constants won&#39;t change.
</span><span style="color:#b48ead;">const int</span><span> stepsPerRevolution = </span><span style="color:#d08770;">2048</span><span>;   </span><span style="color:#a7adba;">// change this to fit the number of steps per revolution
</span><span style="color:#b48ead;">const int</span><span> revolutionsPerMinute = </span><span style="color:#d08770;">6</span><span>;    </span><span style="color:#a7adba;">// Adjustable range of 28BYJ-48 stepper is 0~17 rpm
</span><span style="color:#b48ead;">const long</span><span> interval = </span><span style="color:#d08770;">10000</span><span>;           </span><span style="color:#a7adba;">// interval at which to rotate (milliseconds)
</span><span>
</span><span style="color:#a7adba;">// variables will change:
</span><span style="color:#b48ead;">unsigned long</span><span> previousMillis = </span><span style="color:#d08770;">0</span><span>;      </span><span style="color:#a7adba;">// will store last time stepper motor was updated
</span><span style="color:#b48ead;">unsigned long</span><span> rotationDirection = </span><span style="color:#d08770;">0</span><span>;   </span><span style="color:#a7adba;">// Initialize rotation direction to zero
</span><span>
</span><span style="color:#a7adba;">// initialize the stepper library on pins 8 through 11:
</span><span>Stepper </span><span style="color:#8fa1b3;">myStepper</span><span>(</span><span style="color:#bf616a;">stepsPerRevolution</span><span>, </span><span style="color:#d08770;">8</span><span>, </span><span style="color:#d08770;">10</span><span>, </span><span style="color:#d08770;">9</span><span>, </span><span style="color:#d08770;">11</span><span>);
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">setup</span><span>() {
</span><span>  </span><span style="color:#a7adba;">// set the stepper motor speed
</span><span>  myStepper.</span><span style="color:#bf616a;">setSpeed</span><span>(revolutionsPerMinute);
</span><span>  </span><span style="color:#a7adba;">// initialize the serial port:
</span><span>  Serial.</span><span style="color:#bf616a;">begin</span><span>(</span><span style="color:#d08770;">9600</span><span>);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">loop</span><span>() {
</span><span>  
</span><span>  </span><span style="color:#a7adba;">// will store the number of milliseconds passed since the program begain running
</span><span>  </span><span style="color:#b48ead;">unsigned long</span><span> currentMillis = </span><span style="color:#bf616a;">millis</span><span>();
</span><span>
</span><span>  </span><span style="color:#b48ead;">if </span><span>(currentMillis - previousMillis &gt;= interval) {
</span><span>    </span><span style="color:#a7adba;">// save the last time you changed rotation direction in milliseconds
</span><span>    previousMillis = currentMillis;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// toggle rotation direction
</span><span>    rotationDirection = </span><span style="color:#d08770;">1 </span><span>- rotationDirection;
</span><span>  }
</span><span>
</span><span>  </span><span style="color:#a7adba;">// if rotation direction = 1, move stepper motor clockwise
</span><span>  </span><span style="color:#b48ead;">if </span><span>(rotationDirection == </span><span style="color:#d08770;">1</span><span>) {
</span><span>    </span><span style="color:#a7adba;">// print rotation direction
</span><span>    Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;">clockwise</span><span>&quot;);    
</span><span>    </span><span style="color:#a7adba;">// step in clockwise direction
</span><span>    myStepper.</span><span style="color:#bf616a;">step</span><span>(stepsPerRevolution);
</span><span>  } 
</span><span>  
</span><span>  </span><span style="color:#a7adba;">// if rotation direction = 0, move stepper motor counterclockwise
</span><span>  </span><span style="color:#b48ead;">if </span><span>(rotationDirection == </span><span style="color:#d08770;">0</span><span>) {
</span><span>    </span><span style="color:#a7adba;">// print rotation direction
</span><span>    Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;">counterclockwise</span><span>&quot;);
</span><span>    </span><span style="color:#a7adba;">// step in counterclockwise direction
</span><span>    myStepper.</span><span style="color:#bf616a;">step</span><span>(-stepsPerRevolution);
</span><span>  }
</span><span>
</span><span>}
</span></code></pre>
<h4 id="Now_upload_the_code_to_the_Arduino_UNO_R3.-1">Now upload the code to the Arduino UNO R3.&nbsp;<a class="anchor" href="#Now_upload_the_code_to_the_Arduino_UNO_R3.-1">&#xE732;</a></h4>
<h4 id="How_to_upload_a_sketch_with_the_Arduino_IDE_2">How to upload a sketch with the Arduino IDE 2&nbsp;<a class="anchor" href="#How_to_upload_a_sketch_with_the_Arduino_IDE_2">&#xE732;</a></h4>
<blockquote>
<p>SOURCE:</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started/ide-v2-uploading-a-sketch">Arduino.cc How to upload a sketch with the Arduino IDE 2</a></p>
</blockquote>
<p>In the Arduino environment, we write <strong>sketches</strong> that can be uploaded to Arduino boards. In this tutorial, we will go through how to select a board connected to your computer, and how to upload a sketch to that board, using the Arduino IDE 2.</p>
<p>You can easily download the editor from the Arduino Software page.</p>
<p>You can also follow the <a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started/ide-v2-downloading-and-installing">downloading and installing the Arduino IDE 2</a> tutorial for more detailed guide on how to install the editor.</p>
<h4 id="Requirements">Requirements&nbsp;<a class="anchor" href="#Requirements">&#xE732;</a></h4>
<ul>
<li>Arduino IDE 2 installed.</li>
</ul>
<h4 id="Verify_vs_Upload">Verify vs Upload&nbsp;<a class="anchor" href="#Verify_vs_Upload">&#xE732;</a></h4>
<p>There are two main tools when uploading a sketch to a board: <strong>verify</strong> and <strong>upload</strong>. The verify tool simply goes through your sketch, checks for errors and compiles it. The upload tool does the same, but when it finishes compiling the code, it also uploads it to the board.</p>
<p>A good practice is to use the verifying tool before attempting to upload anything. This is a quick way of spotting any errors in your code, so you can fix them before actually uploading the code.</p>
<h4 id="Uploading_a_Sketch">Uploading a Sketch&nbsp;<a class="anchor" href="#Uploading_a_Sketch">&#xE732;</a></h4>
<p>Uploading a sketch is quick and easy, but let's take a look at what we need to do.</p>
<ol>
<li>
<p>Open the Arduino IDE 2.</p>
</li>
<li>
<p>With the editor open, let's take a look at the toolbar at the top. At the very left, there is a checkmark and an arrow pointing right. The checkmark is used to verify, and the arrow is used to upload.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/uploading-a-sketch-img01.png" alt="" /></p>
<p><em>Verifying and uploading buttons</em></p>
<ol start="3">
<li>But before doing any of that, we should choose what board we are uploading to. Beside the verify and upload button you should see a a drop down menu, this will, in most cases, display Arduino boards that are connected to your computer. If your board is not automatically detected, you can either press &quot;Select other board and port...&quot; in the drop-down and follow the instructions, or go to Tools &gt; Board and Tools &gt; Port in the toolbar menu to select the board and port manually.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/uploading-a-sketch-img03.png" alt="" /></p>
<p><em>Selecting the board.</em></p>
<p>So connect your board to the computer and select it from the drop down menu. You'll know that there is a connection to the board when the board name appears in <strong>bold</strong>.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/uploading-a-sketch-img03.5.png" alt="" /></p>
<p><em>Selecting the board.</em></p>
<ol start="4">
<li>Click on the verify tool (checkmark). Since we are verifying an empty sketch, we can be sure it is going to compile. After a few seconds, we can see the result of the action in the console (black box in the bottom).</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/uploading-a-sketch-img02.png" alt="" /></p>
<p><em>Successful compilation printed in the console.</em></p>
<ol start="5">
<li>
<p>With the board selected, we are good to go! Click on the upload button, and it will start uploading the sketch to the board.</p>
</li>
<li>
<p>When it is finished, a notification pops up in the bottom right of your IDE window. Of course, sometimes there are some complications when uploading, and these errors will be listed here as well.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/uploading-a-sketch-img04.png" alt="" /></p>
<p><em>Successful upload printed in the console.</em></p>
<p>Congratulations, you have now uploaded a sketch to your Arduino board!</p>
<h4 id="Please_Read_(Only_Linux_Users)">Please Read (Only Linux Users)&nbsp;<a class="anchor" href="#Please_Read_(Only_Linux_Users)">&#xE732;</a></h4>
<p>It might happen that when you upload a sketch - after you have selected your board and the serial port - you get an error such as &quot;... Permission denied&quot;. If you get this error, you need to set serial port permission.</p>
<p>To do this, open your Terminal and type:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">ls -l</span><span> /dev/ttyACM*
</span></code></pre>
<p>you will get something like:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">crw-rw----</span><span> 1 root dialout 188, 0 5 apr 23.01 ttyACM0
</span></code></pre>
<p>The &quot;<code>0</code>&quot; at the end of ACM might be a different number, or multiple entries might be returned. The data we need is &quot;dialout&quot; (is the group owner of the file).</p>
<p>Now we just need to add our user to the group:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> usermod</span><span style="color:#bf616a;"> -a -G</span><span> dialout &lt;username&gt;
</span></code></pre>
<p>where <code>&lt;username&gt;</code> is your Linux user name. <strong>You will need to log out and log in again for this change to take effect.</strong></p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Ubuntu_Serial.jpg" alt="" /></p>
<p><em>Adding user to the group.</em></p>
<p>After this procedure, you should be able to proceed normally and upload the sketch to your board or use the Serial Monitor.
Results</p>
<h4 id="How_To_Add_Library_Files_To_The_Arduino_IDE">How To Add Library Files To The Arduino IDE&nbsp;<a class="anchor" href="#How_To_Add_Library_Files_To_The_Arduino_IDE">&#xE732;</a></h4>
<p><strong>Arduino IDE 2</strong></p>
<p>From within the Arduino IDE with source code sketch file for this lab open, from the Arduino IDE menu select <strong>Sketch</strong> &gt; <strong>Include Library</strong> &gt; <strong>Add .ZIP Library...</strong> then select the <strong>Stepper.zip</strong> file downloaded from this page.</p>
<ul>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/Stepper-1.1.3.zip">Stepper-1.1.3.zip</a></li>
</ul>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab4-img-add-library.png" alt="Importing A Library Into Arduino IDE" /></p>
<h4 id="How_To_Add_Library_Files_To_The_Arduino_IDE_2">How To Add Library Files To The Arduino IDE 2&nbsp;<a class="anchor" href="#How_To_Add_Library_Files_To_The_Arduino_IDE_2">&#xE732;</a></h4>
<p>From within the Arduino IDE, with source code sketch file for this lab open, from the Arduino IDE menu select <strong>Sketch</strong> &gt; <strong>Include Library</strong> &gt; <strong>Add .ZIP Library...</strong> then select the <strong>pitches.zip</strong> file downloaded from this page.</p>
<ul>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/pitches.zip">pitches.zip</a></li>
</ul>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/arduino-lab1-img-add-library.png" alt="Importing A Library Into Arduino IDE" /></p>
<h4 id="How_to_install_a_library_with_the_Arduino_IDE_2">How to install a library with the Arduino IDE 2&nbsp;<a class="anchor" href="#How_to_install_a_library_with_the_Arduino_IDE_2">&#xE732;</a></h4>
<blockquote>
<p>SOURCE:</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-installing-a-library">Arduino.cc Installing libraries</a></p>
</blockquote>
<p>A large part of the Arduino programming experience is the use of libraries. There are thousands of libraries that can be found online, and the best documented ones can be found and installed directly through the editor.</p>
<p>In this tutorial, we will go through how to install a library using the library manager in the Arduino IDE 2. We will also show how to access examples from a library that you have installed.</p>
<p>You can easily download the editor from the <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.arduino.cc/en/software">Arduino Software page</a>.</p>
<p>You can also follow the <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/arduino/docs-content/blob/main/software/ide-v2/tutorials/getting-started/ide-v2-downloading-and-installing">downloading and installing the Arduino IDE 2</a> tutorial for more detailed guide on how to install the editor.</p>
<h4 id="Requirements-1">Requirements&nbsp;<a class="anchor" href="#Requirements-1">&#xE732;</a></h4>
<ul>
<li>Arduino IDE 2 installed.</li>
</ul>
<h4 id="Why_Use_Libraries?">Why Use Libraries?&nbsp;<a class="anchor" href="#Why_Use_Libraries?">&#xE732;</a></h4>
<p>Libraries are incredibly useful when creating a project of any type. They make our development experience much smoother, and there almost an infinite amount out there. They are used to interface with many different sensors, RTCs, Wi-Fi modules, RGB matrices and of course with other components on your board.</p>
<p>Arduino has many official libraries, but the real heroes are the Arduino community, who develop, maintain and improve their libraries on a regular basis.</p>
<h4 id="Installing_a_Library">Installing a Library&nbsp;<a class="anchor" href="#Installing_a_Library">&#xE732;</a></h4>
<p>Installing a library is quick and easy, but let's take a look at what we need to do.</p>
<ol>
<li>
<p>Open the Arduino IDE 2.</p>
</li>
<li>
<p>With the editor open, let's take a look at the left column. Here, we can see a couple of icons. Let's click the on the <strong>&quot;library&quot;</strong> icon.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img01.png" alt="" /></p>
<ol start="3">
<li>A list will now appear of all available libraries, where we can also search for the library we want to use. In this example, we are going to install the <strong>RTCZero</strong> library. Click on the <strong>&quot;INSTALL&quot;</strong> button to install the library.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img02.png" alt="" /></p>
<ol start="4">
<li>This process should not take too long, but allow up to a minute to install it.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img03.png" alt="" /></p>
<ol start="5">
<li>When it is finished, we can take a look at the library in the library manager column, where it should say <strong>&quot;INSTALLED&quot;</strong>.</li>
</ol>
<p><img src="../installing-a-library-img04.png" alt="" /></p>
<p>Congratulations! You have now successfully downloaded and installed a library on your machine.</p>
<h4 id="Including_a_Library">Including a Library&nbsp;<a class="anchor" href="#Including_a_Library">&#xE732;</a></h4>
<p>To use a library, you first need to include the library at the top of the sketch.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img05.png" alt="" /></p>
<p>Almost all libraries come with already made examples that you can use. These are accessible through File &gt; Examples &gt; {Library} &gt; {Example}. In this example, we are choosing the RTCZero &gt; SimpleRTC.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img06.png" alt="" /></p>
<p>You can also access library examples directly in the library manager, by clicking the three dots next to the installed library, like this: </p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img06.5.png" alt="" /></p>
<p>The chosen example will now open up in a new window, and you can start using it however you want to.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/installing-a-library-img07.png" alt="" /></p>
<hr />
<p>Last Updated: 2024-05-10</p>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="https://notes.ellermann.com/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://notes.ellermann.com/search_index.en.js" defer></script>
<script type="text/javascript" src="https://notes.ellermann.com/js.js" defer></script>
	
</body>
</html>
