<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta name="robots" content="noindex, nocache, nofollow, noarchive, nosnippet, notranslate, noimageindex, noodp, noydir">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
	<meta name="author" content="Steve Ellermann">
	<meta name="copyright" content="Copyright © 2024 Steve Ellermann. All Rights Reserved. Content (including text, graphics, artwork, audio, video, documents, and other media formats) available on this website are for educational purpose only and are properties of their respective owners. The use of these names, logos and brands does not imply endorsement.">
    <link rel="stylesheet" href="https://notes.ellermann.com/main.css">
    <link rel="icon" href="https://notes.ellermann.com/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Programming Notes | Arduino Lab # 3 - Ultrasonic Sensor </title>
</head>
<body>

<main>
    
    <nav>
            <a href="https:&#x2F;&#x2F;notes.ellermann.com&#x2F;">
                        <img src="https://notes.ellermann.com/logo.svg" alt="logo"/>
                    </a>
                <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="logic"
                           />
                    <label class="tree-toggle-label"
                           for="logic">Logic</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/logic/logic/">Table Of Contents - Logic </a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-basic-truth-tables-using-boolean-values-of-true-or-false/">Basic Truth Tables Using Boolean Values Of True and False</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-getyorn/">The getYorN() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-logical-operators/">Logical Operators</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/logic/logic-relational-operators -decision-structures-and-boolean-logic/">Relational Operators</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="input-validation"
                           />
                    <label class="tree-toggle-label"
                           for="input-validation">Input Validation</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation/">Table of Contents - Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-getvalidnumber-template-input-validation/">getValidNumber() Template Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-isinvalid-template-input-validation/">isInvalid() Template Input Validation</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-one-function-input-validation-model/">One-Function Input Validation Model</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-two-function-input-validation-model/">Two-Function Input Validation Model</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-validating-string-data/">Validating String Data</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-examples-of-common-string-library-functions/">Examples of Common String Library Functions</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/inputvalidation/input-validation-common-input-values-to-test-for/">Common Input Values To Test For</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="loops"
                           />
                    <label class="tree-toggle-label"
                           for="loops">Loops</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/loops/loops/">Table Of Contents - Loops </a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-three-types-of-loops-do-while-while-and-for/">Three Types of Loops: The Do-While Loop, The While Loop, and The For Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-which-loop-to-use/">Which loop to use</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-do-while-loop-post-test-loop/">Do-While Loop - (Post-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-pre-test-loop/">While-Loop - (Pre-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-for-loop-pre-test-loop/">For-Loop - (Pre-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-nested-loops/">Nested Loops</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-wantstocontinue-loop/">wantsToContinue Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-game-loop/">Game Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-counting-loop-pre-test-loop-and-post-test-loop/">Counting Loop - (Pre-Test Loop and Post-Test Loop)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-input-while-loop-with-a-sentinel-value/">Input While-Loop With A Sentinel Value</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-standard-input-sentinel-loop/">Standard Input-Sentinel Loop</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-example/">While Loop Example</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-while-loop-general-format-in-pseudocode/">While Loop in Pseudocode</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/loops/loops-terminology/">Terminology - Loops</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="methods"
                           />
                    <label class="tree-toggle-label"
                           for="methods">Methods</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/methods/methods/">Table Of Contents - Methods</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getstring/">The getString() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getinteger/">The getInteger() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getdouble/">The getDouble() Method</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getyorn/">The getString() Method in Pseudocode and Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-closescanner/">The closeScanner() Method In Pseudocode And Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-getrandomnumber/">The getRandomNumber() Method in Pseudocode and Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-general-input-methods-in-java/">Generalized Input Functions In Java</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/methods/methods-terminology/">Terminology - Modules And Functions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="arrays"
                           />
                    <label class="tree-toggle-label"
                           for="arrays">Arrays</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/arrays/arrays/">Table Of Contents - Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-one-dimensional-arrays-pseudocode/">One-Dimensional Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-two-dimensional-arrays-in-pseudocode/">Two-Dimensional Arrays</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-initializing-array-with-random-unique-values/">Initializing an Array with Random Unique Values</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arrays/arrays-key-array-skills/">Key Array Skills</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="ternary-examples"
                           />
                    <label class="tree-toggle-label"
                           for="ternary-examples">Ternary Examples</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/ternary/ternary/">Table of Contents - Ternary Examples</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/ternary/ternary-enhanced-for-loops-short-form-for-loops-examples/">Enhanced For Loops</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/ternary/ternary-enhanced-if-statements-short-form-if-statments-examples/">Enhanced If Statements (Short Form If Statements)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="menus"
                           />
                    <label class="tree-toggle-label"
                           for="menus">Menus</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/menus/menus/">Table of Contents - Menus</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/menus/menus-practicemenu/">Practice Menu</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="object-oriented-programming"
                           />
                    <label class="tree-toggle-label"
                           for="object-oriented-programming">Object Oriented Programming</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/oop/oop/">Table of Contents - Object-Oriented Programming (OOP)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/oop-terminology/">Object-Oriented Programming (OOP) Terminology</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/object-oriented-programming/">Object-Oriented Programming (OOP)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/oop/oop-review-questions/">Object-Oriented Programming (OOP) Review Questions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="arduino"
                           checked/>
                    <label class="tree-toggle-label"
                           for="arduino">Arduino</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/arduino/arduino/">Table Of Contents - Arduino</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-0-system-test-verification/">Arduino Lab # 0 - System Verification Test</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-1-passive-buzzer/">Arduino Lab # 1 - Passive Buzzer</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-2-servo-motor/">Arduino Lab # 2 - Servo Motor</a>
                            </li>

                            <li class="active">
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/">Arduino Lab # 3 - Ultrasonic Sensor</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Arduino_Lab_#_3_-_Ultrasonic_Sensor">Arduino Lab # 3 - Ultrasonic Sensor</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Overview">Overview</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Requirements:">Requirements:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Datasheets:">Datasheets:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Component_Introduction">Component Introduction</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Ultrasonic_sensor">Ultrasonic sensor</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Ultrasonic_Sensor_Module_Timing_Diagram">Ultrasonic Sensor Module Timing Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Ultrasonic_Sensor_Module_Connection">Ultrasonic Sensor Module Connection</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Schematic">Schematic</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Wiring_Diagram">Wiring Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Example_Picture">Example Picture</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Code">Code</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Example_Ultrasonic_Sensor_Code">Example Ultrasonic Sensor Code</a>
                                                    </li>
                                            <li><a href="
                                                        https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Now_upload_the_code_to_the_Arduino_UNO_R3.">Now upload the code to the Arduino UNO R3.</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Passive_Buzzer:">Passive Buzzer:</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Passive_Buzzer_Connection">Passive Buzzer Connection</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Connection">Connection</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Schematic-1">Schematic</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Wiring_Diagram-1">Wiring Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Example_Picture-1">Example Picture</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Code-1">Code</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Example_Passive_Buzzer_Code">Example Passive Buzzer Code</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Now_upload_the_code_to_the_Arduino_UNO_R3.-1">Now upload the code to the Arduino UNO R3.</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Modify_The_Code_For_The_Lab">Modify The Code For The Lab</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Putting_it_all_together,_Ultrasonic_Sensor_and_the_Passive_Buzzer">Putting it all together, Ultrasonic Sensor and the Passive Buzzer</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Wiring_Diagram-2">Wiring Diagram</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Source_Code_For_Lab_3">Source Code For Lab 3</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Now_upload_the_code_to_the_Arduino_UNO_R3.-2">Now upload the code to the Arduino UNO R3.</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#How_to_upload_a_sketch_with_the_Arduino_IDE_2">How to upload a sketch with the Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Requirements">Requirements</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Verify_vs_Upload">Verify vs Upload</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Uploading_a_Sketch">Uploading a Sketch</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Please_Read_(Only_Linux_Users)">Please Read (Only Linux Users)</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#How_To_Add_Library_Files_To_The_Arduino_IDE">How To Add Library Files To The Arduino IDE</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#How_To_Add_Library_Files_To_The_Arduino_IDE_2">How To Add Library Files To The Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#How_to_install_a_library_with_the_Arduino_IDE_2">How to install a library with the Arduino IDE 2</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Requirements-1">Requirements</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Why_Use_Libraries?">Why Use Libraries?</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Installing_a_Library">Installing a Library</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/#Including_a_Library">Including a Library</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-4-stepper-motor-control/">Arduino Lab # 4 - Stepper Motor Control</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-lab-5-simulation-of-collision-avoidance-system/">Arduino Lab # 5 - Simulation of Collision Avoidance System</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-resources/">Arduino Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-how-to-install-a-library/">Arduino - How To Install A Library</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/arduino/arduino-how-to-upload-a-sketch/">Arduino - How To Upload a Sketch</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="resources"
                           />
                    <label class="tree-toggle-label"
                           for="resources">Resources</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://notes.ellermann.com/resources/resources/">Table Of Contents - Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/java-programming-resources/">Java Programming Resources</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/installing-the-java-development-kit/">Installing the Java Development Kit (JDK) and the Java Runtime Environment (JRE)</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/eclipse-ide-how-to-find-matching-brackets-and-missing-brackets/">Eclipse IDE: How To Find Matching Brackets and Missing Brackets</a>
                            </li>

                            <li >
                                <a href="https://notes.ellermann.com/resources/diataxis-a-systematic-approach-to-technical-documentation-authoring/">Diátaxis: A systematic approach to technical documentation authoring.</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h3 id="Arduino_Lab_#_3_-_Ultrasonic_Sensor">Arduino Lab # 3 - Ultrasonic Sensor&nbsp;<a class="anchor" href="#Arduino_Lab_#_3_-_Ultrasonic_Sensor">&#xE732;</a></h3>
<h4 id="Overview">Overview&nbsp;<a class="anchor" href="#Overview">&#xE732;</a></h4>
<p>Ultrasonic sensor is great for all kind of projects that need distance measurements, avoiding obstacles as examples.</p>
<p>The HC-SR04 is inexpensive and easy to use since we will be using a Library specifically designed for these sensor. </p>
<p>In this lab, you will learn how to use an ultrasonic sensor in conjunction with a passive buzzer to measure the distance of an object from the ultrasonic sensor with sound and text text as output.</p>
<h4 id="Requirements:">Requirements:&nbsp;<a class="anchor" href="#Requirements:">&#xE732;</a></h4>
<ul>
<li>Arduino IDE (2.1.0 was used for this document)</li>
<li>(1) x Arduino Uno R3 or Elegoo Uno R3</li>
<li>(1) x Passive buzzer</li>
<li>(1) x Ultrasonic sensor module HC-SR04</li>
<li>(6) x F-M wires (Female to Male DuPont wires)</li>
<li>(1) x USB 2.0 Type A to USB 2.0 Type B Cable</li>
</ul>
<h4 id="Datasheets:">Datasheets:&nbsp;<a class="anchor" href="#Datasheets:">&#xE732;</a></h4>
<ul>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/ArduinoUNOR3Datasheet.pdf">Arduino UNO R3 Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/ELEGOOUNOR3BoardDatasheet.pdf">ELEGOO UNO R3 Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/HC-SR04UltrasonicSensorModuleDatasheet.pdf">HC-SR04 Ultrasonic Sensor Module Datasheet</a></li>
<li><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/PassiveBuzzerDatasheet.pdf">Passive Buzzer Datasheet</a></li>
</ul>
<h4 id="Component_Introduction">Component Introduction&nbsp;<a class="anchor" href="#Component_Introduction">&#xE732;</a></h4>
<h4 id="Ultrasonic_sensor">Ultrasonic sensor&nbsp;<a class="anchor" href="#Ultrasonic_sensor">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img08.png" alt="HC-SR04 Ultrasonic Sensor Module" /></p>
<p>Ultrasonic sensor module HC-SR04 provides 2cm-400cm non-contact measurement function, the ranging accuracy can reach to 3mm. The modules includes ultrasonic transmitters, receiver and control circuit. The basic principle of work:</p>
<ol>
<li>Using IO trigger for at least 10us high level signal,</li>
<li>The Module automatically sends eight 40 kHz and detect whether there is a pulse signal back.</li>
<li>IF the signal back, through high level , time of high output IO duration is the time from sending ultrasonic tore turning.</li>
</ol>
<p>Test distance = (high level time × velocity of sound (340m/s) /2</p>
<p>The Timing diagram is shown below. You only need to supply a short 10us pulse to the trigger input to start the ranging, and then the module will send out an 8 cycle burst of ultrasound at 40 kHz and raise its echo. The Echo is a distance object that is pulse width and the range in proportion .You can calculate the range through the time interval between sending trigger signal and receiving echo signal. Formula: us
/ 58 = centimeters or us / 148 =inch; or: the range = high level time * velocity (340M/S) / 2; we suggest to use over 60ms measurement cycle, in order to prevent trigger signal to the echo signal.</p>
<h4 id="Ultrasonic_Sensor_Module_Timing_Diagram">Ultrasonic Sensor Module Timing Diagram&nbsp;<a class="anchor" href="#Ultrasonic_Sensor_Module_Timing_Diagram">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img01.png" alt="Ultrasonic Sensor Module Timing Diagram" /></p>
<h4 id="Ultrasonic_Sensor_Module_Connection">Ultrasonic Sensor Module Connection&nbsp;<a class="anchor" href="#Ultrasonic_Sensor_Module_Connection">&#xE732;</a></h4>
<h4 id="Schematic">Schematic&nbsp;<a class="anchor" href="#Schematic">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img02.png" alt="Ultrasonic Sensor Module Schematic " /></p>
<h4 id="Wiring_Diagram">Wiring Diagram&nbsp;<a class="anchor" href="#Wiring_Diagram">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img03.png" alt="Ultrasonic Sensor Module Wiring Diagram" /></p>
<h4 id="Example_Picture">Example Picture&nbsp;<a class="anchor" href="#Example_Picture">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img06.png" alt="Ultrasonic Sensor Module Wiring Example Picture" /></p>
<h4 id="Code">Code&nbsp;<a class="anchor" href="#Code">&#xE732;</a></h4>
<p>Using a Library designed for these sensors will make our code short and simple. We include the library at the beginning of our code, and then by using simple commands we can control the behavior of the sensor.</p>
<p>After wiring, please type in or open the program <strong><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Lab03ArduinoSR04Example.ino">Lab03ArduinoSR04Example.ino</a></strong> in the Arduino IDE code and click UPLOAD to upload the program.</p>
<p>Before you can run this, make sure that you have installed the <strong><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/HC-SR04.zip">HC-SR04.zip</a></strong> library or re-install it, if necessary. Otherwise, your code won't work.</p>
<p>For details about loading the library file, see How &quot;How To Add Library Files To The Arduino IDE&quot; at the bottom of this document.</p>
<h3 id="Example_Ultrasonic_Sensor_Code">Example Ultrasonic Sensor Code&nbsp;<a class="anchor" href="#Example_Ultrasonic_Sensor_Code">&#xE732;</a></h3>
<ul>
<li>Download Example Source Code: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Lab03ArduinoSR04Example.ino">Lab03ArduinoSR04Example.ino</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/HC-SR04.zip">HC-SR04.zip</a></li>
</ul>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#a7adba;">// Example ultrasonic sensor module code
</span><span style="color:#a7adba;">// Lab03ArduinoSR04Example.ino
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Library Required: HC-SR04.zip
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">//  www.elegoo.com
</span><span style="color:#a7adba;">//  2016.12.08
</span><span style="color:#b48ead;">#include </span><span>&quot;</span><span style="color:#a3be8c;">SR04.h</span><span>&quot;
</span><span style="color:#b48ead;">#define </span><span>TRIG_PIN </span><span style="color:#d08770;">12
</span><span style="color:#b48ead;">#define </span><span>ECHO_PIN </span><span style="color:#d08770;">11
</span><span>SR04 sr04 = </span><span style="color:#bf616a;">SR04</span><span>(ECHO_PIN,TRIG_PIN);
</span><span style="color:#b48ead;">long</span><span> a;
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">setup</span><span>() {
</span><span>   Serial.</span><span style="color:#bf616a;">begin</span><span>(</span><span style="color:#d08770;">9600</span><span>);
</span><span>   </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">1000</span><span>);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">loop</span><span>() {
</span><span>   a=sr04.</span><span style="color:#bf616a;">Distance</span><span>();
</span><span>   Serial.</span><span style="color:#bf616a;">print</span><span>(a);
</span><span>   Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;">cm</span><span>&quot;);
</span><span>   </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">1000</span><span>);
</span><span>}
</span></code></pre>
<h3 id="Now_upload_the_code_to_the_Arduino_UNO_R3.">Now upload the code to the Arduino UNO R3.&nbsp;<a class="anchor" href="#Now_upload_the_code_to_the_Arduino_UNO_R3.">&#xE732;</a></h3>
<h4 id="Passive_Buzzer:">Passive Buzzer:&nbsp;<a class="anchor" href="#Passive_Buzzer:">&#xE732;</a></h4>
<p>The working principle of passive buzzer is using PWM generating audio to make the air to vibrate. Appropriately changed as long as the vibration frequency, it can generate different sounds. For example, sending a pulse of 523Hz, it can generate Alto Do, pulse of 587Hz, it can generate mid-range Re, pulse of 659Hz, it can produce mid-range Mi. By the buzzer, you can play a song. </p>
<p>We should be careful not to use the UNO R3 board analog Write () function to generate a pulse to the buzzer, because the pulse output of analog Write () is fixed
(500Hz).</p>
<h4 id="Passive_Buzzer_Connection">Passive Buzzer Connection&nbsp;<a class="anchor" href="#Passive_Buzzer_Connection">&#xE732;</a></h4>
<h4 id="Connection">Connection&nbsp;<a class="anchor" href="#Connection">&#xE732;</a></h4>
<h4 id="Schematic-1">Schematic&nbsp;<a class="anchor" href="#Schematic-1">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img04.png" alt="Passive Buzzer Schematic" /></p>
<h4 id="Wiring_Diagram-1">Wiring Diagram&nbsp;<a class="anchor" href="#Wiring_Diagram-1">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img05.png" alt="Passive Buzzer Wiring Diagram" /></p>
<p>Wiring the buzzer connected to the UNO R3 board, the red (positive) to the pin 8, black wire (negative) to the GND.</p>
<h4 id="Example_Picture-1">Example Picture&nbsp;<a class="anchor" href="#Example_Picture-1">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img07.png" alt="Passive Buzzer Wireing Example Picture" /></p>
<h4 id="Code-1">Code&nbsp;<a class="anchor" href="#Code-1">&#xE732;</a></h4>
<p>After wiring, please type in or open the program <strong><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Lab03ArduinoPassiveBuzzerExample.ino">Lab03ArduinoPassiveBuzzerExample.ino</a></strong> in the Arduino IDE code and click UPLOAD to upload the program.</p>
<p>Before you can run this, make sure that you have installed the <strong><a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/pitches.zip">pitches.zip</a></strong> library or re-install it, if necessary. Otherwise, your code won't work.</p>
<p>For details about loading the library file, see How &quot;How To Add Library Files To The Arduino IDE&quot; at the bottom of this document.</p>
<h4 id="Example_Passive_Buzzer_Code">Example Passive Buzzer Code&nbsp;<a class="anchor" href="#Example_Passive_Buzzer_Code">&#xE732;</a></h4>
<ul>
<li>Download Ardunio Example Source Code File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Lab03ArduinoPassiveBuzzerExample.ino">Lab03ArduinoPassiveBuzzerExample.ino</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/pitches.zip">pitches.zip</a></li>
</ul>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#a7adba;">// Lab03ArduinoPassiveBuzzerExample.ino
</span><span style="color:#a7adba;">// Example passive buzzer code
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Library Required: pitches.zip
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// www.elegoo.com
</span><span style="color:#a7adba;">// 2016.12.08
</span><span>
</span><span style="color:#b48ead;">#include </span><span>&quot;</span><span style="color:#a3be8c;">pitches.h</span><span>&quot;
</span><span> 
</span><span style="color:#a7adba;">// notes in the melody:
</span><span style="color:#b48ead;">int</span><span> melody[] = {
</span><span>  NOTE_C5, NOTE_D5, NOTE_E5, NOTE_F5, NOTE_G5, NOTE_A5, NOTE_B5, NOTE_C6};
</span><span style="color:#b48ead;">int</span><span> duration = </span><span style="color:#d08770;">500</span><span>;  </span><span style="color:#a7adba;">// 500 miliseconds
</span><span> 
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">setup</span><span>() {
</span><span> 
</span><span>}
</span><span> 
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">loop</span><span>() {  
</span><span>  </span><span style="color:#b48ead;">for </span><span>(</span><span style="color:#b48ead;">int</span><span> thisNote = </span><span style="color:#d08770;">0</span><span>; thisNote &lt; </span><span style="color:#d08770;">8</span><span>; thisNote++) {
</span><span>    </span><span style="color:#a7adba;">// pin8 output the voice, every scale is 0.5 sencond
</span><span>    </span><span style="color:#bf616a;">tone</span><span>(</span><span style="color:#d08770;">8</span><span>, melody[thisNote], duration);
</span><span>     
</span><span>    </span><span style="color:#a7adba;">// Output the voice after several minutes
</span><span>    </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">1000</span><span>);
</span><span>  }
</span><span>   
</span><span>  </span><span style="color:#a7adba;">// restart after two seconds 
</span><span>  </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">2000</span><span>);
</span><span>}
</span></code></pre>
<h4 id="Now_upload_the_code_to_the_Arduino_UNO_R3.-1">Now upload the code to the Arduino UNO R3.&nbsp;<a class="anchor" href="#Now_upload_the_code_to_the_Arduino_UNO_R3.-1">&#xE732;</a></h4>
<h4 id="Modify_The_Code_For_The_Lab">Modify The Code For The Lab&nbsp;<a class="anchor" href="#Modify_The_Code_For_The_Lab">&#xE732;</a></h4>
<p><strong>Modify the code to do the following:</strong></p>
<pre style="background-color:#eff1f5;color:#4f5b66;"><code><span>Read distance (between your hand and the sensor) using Ultrasonic sensor:
</span><span>
</span><span>if (distance &gt; 5 cm)
</span><span>{
</span><span>    turn Onboard LED ON;
</span><span>    Buzzer On;
</span><span>    delay(100 ms);
</span><span>    turn Onboard LED OFF;
</span><span>    Buzzer OFF;
</span><span>    delay(1000 ms);
</span><span>}
</span><span>
</span><span>if (distance &lt;= 5 cm)
</span><span>{
</span><span>    turn Onboard LED ON; 
</span><span>    Buzzer On;
</span><span>    delay(100 ms);
</span><span>    turn Onboard LED OFF;
</span><span>    Buzzer OFF
</span><span>    delay(100 ms);
</span><span>}
</span><span>repeat continuously
</span></code></pre>
<h4 id="Putting_it_all_together,_Ultrasonic_Sensor_and_the_Passive_Buzzer">Putting it all together, Ultrasonic Sensor and the Passive Buzzer&nbsp;<a class="anchor" href="#Putting_it_all_together,_Ultrasonic_Sensor_and_the_Passive_Buzzer">&#xE732;</a></h4>
<h4 id="Wiring_Diagram-2">Wiring Diagram&nbsp;<a class="anchor" href="#Wiring_Diagram-2">&#xE732;</a></h4>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img09.png" alt="Wireing Diagram" /></p>
<h4 id="Source_Code_For_Lab_3">Source Code For Lab 3&nbsp;<a class="anchor" href="#Source_Code_For_Lab_3">&#xE732;</a></h4>
<ul>
<li>Download Ardunio Source Code File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Lab03ArduinoLibrariesRequired.ino">Lab03ArduinoLibrariesRequired.ino</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/HC-SR04.zip">HC-SR04.zip</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/pitches.zip">pitches.zip</a></li>
</ul>
<pre data-lang="cpp" style="background-color:#eff1f5;color:#4f5b66;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#a7adba;">// Lab03ArduinoLibrariesRequired.ino
</span><span style="color:#a7adba;">// 
</span><span style="color:#a7adba;">// Author: Steve Ellermannn
</span><span style="color:#a7adba;">// Modified: 2023-02-28
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Library required: HC-SR04.zip
</span><span style="color:#a7adba;">// Library required: pitches.zip
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// https://www.arduino.cc/reference/en/
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Ardunio (Elegoo) Uno R3 Board
</span><span style="color:#a7adba;">// 5V Passive Buzzer
</span><span style="color:#a7adba;">// HC-SR04 Ultrasonic Module
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// Passive Bussier Wiring
</span><span style="color:#a7adba;">// + to Digital &quot;8&quot;
</span><span style="color:#a7adba;">// - to Digital &quot;GND&quot;
</span><span style="color:#a7adba;">//
</span><span style="color:#a7adba;">// HC-SR04 Ultrasonic Module Wiring
</span><span style="color:#a7adba;">// VCC to Power &quot;5V&quot;
</span><span style="color:#a7adba;">// TRIG to Digital &quot;12&quot;
</span><span style="color:#a7adba;">// ECHO to Ditial &quot;11&quot;
</span><span style="color:#a7adba;">// GND to Power &quot;GND&quot; 
</span><span>
</span><span style="color:#a7adba;">// Library for Ultrasonic Sennsor
</span><span style="color:#b48ead;">#include </span><span>&quot;</span><span style="color:#a3be8c;">SR04.h</span><span>&quot;
</span><span style="color:#a7adba;">// Library for Passive Buzzer
</span><span style="color:#b48ead;">#include </span><span>&quot;</span><span style="color:#a3be8c;">pitches.h</span><span>&quot;
</span><span>
</span><span style="color:#a7adba;">// For the ultrasonic sensor
</span><span style="color:#b48ead;">#define </span><span>TRIG_PIN </span><span style="color:#d08770;">12
</span><span style="color:#b48ead;">#define </span><span>ECHO_PIN </span><span style="color:#d08770;">11
</span><span>
</span><span style="color:#a7adba;">// For the passive buzzer
</span><span style="color:#b48ead;">#define </span><span>BUZZER_PIN </span><span style="color:#d08770;">8
</span><span>
</span><span>SR04 sr04 = </span><span style="color:#bf616a;">SR04</span><span>(ECHO_PIN,TRIG_PIN);
</span><span>
</span><span style="color:#b48ead;">long</span><span> distance;
</span><span>
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">setup</span><span>() {
</span><span>   Serial.</span><span style="color:#bf616a;">begin</span><span>(</span><span style="color:#d08770;">9600</span><span>);
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// repeat infinitely 
</span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">loop</span><span>() {
</span><span>   distance=sr04.</span><span style="color:#bf616a;">Distance</span><span>();
</span><span>   Serial.</span><span style="color:#bf616a;">print</span><span>(&quot;</span><span style="color:#a3be8c;">Distance: </span><span>&quot;);
</span><span>   Serial.</span><span style="color:#bf616a;">print</span><span>(distance);
</span><span>   Serial.</span><span style="color:#bf616a;">println</span><span>(&quot;</span><span style="color:#a3be8c;"> cm</span><span>&quot;);
</span><span>   </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">100</span><span>);
</span><span>
</span><span>   </span><span style="color:#b48ead;">if </span><span>(distance &gt; </span><span style="color:#d08770;">5</span><span>) {
</span><span>     </span><span style="color:#a7adba;">// turn the LED on (HIGH is the voltage level)
</span><span>     </span><span style="color:#bf616a;">digitalWrite</span><span>(LED_BUILTIN, HIGH);
</span><span>
</span><span>     </span><span style="color:#a7adba;">// play a tone on the passive buzzer
</span><span>     </span><span style="color:#bf616a;">tone</span><span>(</span><span style="color:#d08770;">8</span><span>, NOTE_C5, </span><span style="color:#d08770;">100</span><span>);
</span><span>     
</span><span>     </span><span style="color:#a7adba;">// wait for 100 milliseconds
</span><span>     </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">100</span><span>);
</span><span>     
</span><span>     </span><span style="color:#a7adba;">// turn the LED off by making the voltage LOW                      
</span><span>     </span><span style="color:#bf616a;">digitalWrite</span><span>(LED_BUILTIN, LOW);
</span><span>
</span><span>     </span><span style="color:#a7adba;">// turn the tone off
</span><span>     </span><span style="color:#bf616a;">noTone</span><span>(</span><span style="color:#d08770;">8</span><span>);
</span><span>    
</span><span>    </span><span style="color:#a7adba;">// wait for 1000 milliseconds
</span><span>	  </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">1000</span><span>);
</span><span>   }
</span><span>
</span><span>  </span><span style="color:#b48ead;">if </span><span>(distance &lt;= </span><span style="color:#d08770;">5</span><span>) {
</span><span>     </span><span style="color:#a7adba;">// turn the LED on (HIGH is the voltage level)
</span><span>     </span><span style="color:#bf616a;">digitalWrite</span><span>(LED_BUILTIN, HIGH);
</span><span>
</span><span>     </span><span style="color:#a7adba;">// play a tone on the passive buzzer
</span><span>     </span><span style="color:#bf616a;">tone</span><span>(</span><span style="color:#d08770;">8</span><span>, NOTE_G5, </span><span style="color:#d08770;">100</span><span>);
</span><span>     
</span><span>     </span><span style="color:#a7adba;">// wait for 100 milliseconds
</span><span>     </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">100</span><span>);
</span><span>     
</span><span>     </span><span style="color:#a7adba;">// turn the LED off by making the voltage LOW                      
</span><span>     </span><span style="color:#bf616a;">digitalWrite</span><span>(LED_BUILTIN, LOW);
</span><span>
</span><span>     </span><span style="color:#a7adba;">// turn the tone off
</span><span>     </span><span style="color:#bf616a;">noTone</span><span>(</span><span style="color:#d08770;">8</span><span>);
</span><span>    
</span><span>    </span><span style="color:#a7adba;">// wait for 100 milliseconds
</span><span>	  </span><span style="color:#bf616a;">delay</span><span>(</span><span style="color:#d08770;">100</span><span>);
</span><span>  }
</span><span>}
</span></code></pre>
<h4 id="Now_upload_the_code_to_the_Arduino_UNO_R3.-2">Now upload the code to the Arduino UNO R3.&nbsp;<a class="anchor" href="#Now_upload_the_code_to_the_Arduino_UNO_R3.-2">&#xE732;</a></h4>
<h4 id="How_to_upload_a_sketch_with_the_Arduino_IDE_2">How to upload a sketch with the Arduino IDE 2&nbsp;<a class="anchor" href="#How_to_upload_a_sketch_with_the_Arduino_IDE_2">&#xE732;</a></h4>
<blockquote>
<p>SOURCE:</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started/ide-v2-uploading-a-sketch">Arduino.cc How to upload a sketch with the Arduino IDE 2</a></p>
</blockquote>
<p>In the Arduino environment, we write <strong>sketches</strong> that can be uploaded to Arduino boards. In this tutorial, we will go through how to select a board connected to your computer, and how to upload a sketch to that board, using the Arduino IDE 2.</p>
<p>You can easily download the editor from the Arduino Software page.</p>
<p>You can also follow the <a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/getting-started/ide-v2-downloading-and-installing">downloading and installing the Arduino IDE 2</a> tutorial for more detailed guide on how to install the editor.</p>
<h4 id="Requirements">Requirements&nbsp;<a class="anchor" href="#Requirements">&#xE732;</a></h4>
<ul>
<li>Arduino IDE 2 installed.</li>
</ul>
<h4 id="Verify_vs_Upload">Verify vs Upload&nbsp;<a class="anchor" href="#Verify_vs_Upload">&#xE732;</a></h4>
<p>There are two main tools when uploading a sketch to a board: <strong>verify</strong> and <strong>upload</strong>. The verify tool simply goes through your sketch, checks for errors and compiles it. The upload tool does the same, but when it finishes compiling the code, it also uploads it to the board.</p>
<p>A good practice is to use the verifying tool before attempting to upload anything. This is a quick way of spotting any errors in your code, so you can fix them before actually uploading the code.</p>
<h4 id="Uploading_a_Sketch">Uploading a Sketch&nbsp;<a class="anchor" href="#Uploading_a_Sketch">&#xE732;</a></h4>
<p>Uploading a sketch is quick and easy, but let's take a look at what we need to do.</p>
<ol>
<li>
<p>Open the Arduino IDE 2.</p>
</li>
<li>
<p>With the editor open, let's take a look at the toolbar at the top. At the very left, there is a checkmark and an arrow pointing right. The checkmark is used to verify, and the arrow is used to upload.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/uploading-a-sketch-img01.png" alt="" /></p>
<p><em>Verifying and uploading buttons</em></p>
<ol start="3">
<li>But before doing any of that, we should choose what board we are uploading to. Beside the verify and upload button you should see a a drop down menu, this will, in most cases, display Arduino boards that are connected to your computer. If your board is not automatically detected, you can either press &quot;Select other board and port...&quot; in the drop-down and follow the instructions, or go to Tools &gt; Board and Tools &gt; Port in the toolbar menu to select the board and port manually.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/uploading-a-sketch-img03.png" alt="" /></p>
<p><em>Selecting the board.</em></p>
<p>So connect your board to the computer and select it from the drop down menu. You'll know that there is a connection to the board when the board name appears in <strong>bold</strong>.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/uploading-a-sketch-img03.5.png" alt="" /></p>
<p><em>Selecting the board.</em></p>
<ol start="4">
<li>Click on the verify tool (checkmark). Since we are verifying an empty sketch, we can be sure it is going to compile. After a few seconds, we can see the result of the action in the console (black box in the bottom).</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/uploading-a-sketch-img02.png" alt="" /></p>
<p><em>Successful compilation printed in the console.</em></p>
<ol start="5">
<li>
<p>With the board selected, we are good to go! Click on the upload button, and it will start uploading the sketch to the board.</p>
</li>
<li>
<p>When it is finished, a notification pops up in the bottom right of your IDE window. Of course, sometimes there are some complications when uploading, and these errors will be listed here as well.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/uploading-a-sketch-img04.png" alt="" /></p>
<p><em>Successful upload printed in the console.</em></p>
<p>Congratulations, you have now uploaded a sketch to your Arduino board!</p>
<h4 id="Please_Read_(Only_Linux_Users)">Please Read (Only Linux Users)&nbsp;<a class="anchor" href="#Please_Read_(Only_Linux_Users)">&#xE732;</a></h4>
<p>It might happen that when you upload a sketch - after you have selected your board and the serial port - you get an error such as &quot;... Permission denied&quot;. If you get this error, you need to set serial port permission.</p>
<p>To do this, open your Terminal and type:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">ls -l</span><span> /dev/ttyACM*
</span></code></pre>
<p>you will get something like:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">crw-rw----</span><span> 1 root dialout 188, 0 5 apr 23.01 ttyACM0
</span></code></pre>
<p>The &quot;<code>0</code>&quot; at the end of ACM might be a different number, or multiple entries might be returned. The data we need is &quot;dialout&quot; (is the group owner of the file).</p>
<p>Now we just need to add our user to the group:</p>
<pre data-lang="bash" style="background-color:#eff1f5;color:#4f5b66;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">sudo</span><span> usermod</span><span style="color:#bf616a;"> -a -G</span><span> dialout &lt;username&gt;
</span></code></pre>
<p>where <code>&lt;username&gt;</code> is your Linux user name. <strong>You will need to log out and log in again for this change to take effect.</strong></p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/Ubuntu_Serial.jpg" alt="" /></p>
<p><em>Adding user to the group.</em></p>
<p>After this procedure, you should be able to proceed normally and upload the sketch to your board or use the Serial Monitor.
Results</p>
<p>If you see the Arduino onboard LED blinking (100ms ON, 500ms OFF). Congratulations! Your PC / Arduino have passed the System Verification Test.</p>
<h4 id="How_To_Add_Library_Files_To_The_Arduino_IDE">How To Add Library Files To The Arduino IDE&nbsp;<a class="anchor" href="#How_To_Add_Library_Files_To_The_Arduino_IDE">&#xE732;</a></h4>
<p><strong>Arduino IDE 2</strong></p>
<p>From within the source code sketch file for this lab, from the Arduino IDE menu select <strong>Sketch</strong> &gt; <strong>Include Library</strong> &gt; <strong>Add .ZIP Library...</strong> then select the <strong>HC-SR04.zip</strong> and the <strong>pitches.zip</strong> file from the files downloaded from this page.</p>
<ul>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/HC-SR04.zip">HC-SR04.zip</a></li>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/pitches.zip">pitches.zip</a></li>
</ul>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab3-img-add-library.png" alt="Importing A Library Into Arduino IDE" /></p>
<h4 id="How_To_Add_Library_Files_To_The_Arduino_IDE_2">How To Add Library Files To The Arduino IDE 2&nbsp;<a class="anchor" href="#How_To_Add_Library_Files_To_The_Arduino_IDE_2">&#xE732;</a></h4>
<p>From within the Arduino IDE, with source code sketch file for this lab open, from the Arduino IDE menu select <strong>Sketch</strong> &gt; <strong>Include Library</strong> &gt; <strong>Add .ZIP Library...</strong> then select the <strong>pitches.zip</strong> file downloaded from this page.</p>
<ul>
<li>Download Library File: <a href="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/pitches.zip">pitches.zip</a></li>
</ul>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/arduino-lab1-img-add-library.png" alt="Importing A Library Into Arduino IDE" /></p>
<h4 id="How_to_install_a_library_with_the_Arduino_IDE_2">How to install a library with the Arduino IDE 2&nbsp;<a class="anchor" href="#How_to_install_a_library_with_the_Arduino_IDE_2">&#xE732;</a></h4>
<blockquote>
<p>SOURCE:</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-installing-a-library">Arduino.cc Installing libraries</a></p>
</blockquote>
<p>A large part of the Arduino programming experience is the use of libraries. There are thousands of libraries that can be found online, and the best documented ones can be found and installed directly through the editor.</p>
<p>In this tutorial, we will go through how to install a library using the library manager in the Arduino IDE 2. We will also show how to access examples from a library that you have installed.</p>
<p>You can easily download the editor from the <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.arduino.cc/en/software">Arduino Software page</a>.</p>
<p>You can also follow the <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/arduino/docs-content/blob/main/software/ide-v2/tutorials/getting-started/ide-v2-downloading-and-installing">downloading and installing the Arduino IDE 2</a> tutorial for more detailed guide on how to install the editor.</p>
<h4 id="Requirements-1">Requirements&nbsp;<a class="anchor" href="#Requirements-1">&#xE732;</a></h4>
<ul>
<li>Arduino IDE 2 installed.</li>
</ul>
<h4 id="Why_Use_Libraries?">Why Use Libraries?&nbsp;<a class="anchor" href="#Why_Use_Libraries?">&#xE732;</a></h4>
<p>Libraries are incredibly useful when creating a project of any type. They make our development experience much smoother, and there almost an infinite amount out there. They are used to interface with many different sensors, RTCs, Wi-Fi modules, RGB matrices and of course with other components on your board.</p>
<p>Arduino has many official libraries, but the real heroes are the Arduino community, who develop, maintain and improve their libraries on a regular basis.</p>
<h4 id="Installing_a_Library">Installing a Library&nbsp;<a class="anchor" href="#Installing_a_Library">&#xE732;</a></h4>
<p>Installing a library is quick and easy, but let's take a look at what we need to do.</p>
<ol>
<li>
<p>Open the Arduino IDE 2.</p>
</li>
<li>
<p>With the editor open, let's take a look at the left column. Here, we can see a couple of icons. Let's click the on the <strong>&quot;library&quot;</strong> icon.</p>
</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img01.png" alt="" /></p>
<ol start="3">
<li>A list will now appear of all available libraries, where we can also search for the library we want to use. In this example, we are going to install the <strong>RTCZero</strong> library. Click on the <strong>&quot;INSTALL&quot;</strong> button to install the library.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img02.png" alt="" /></p>
<ol start="4">
<li>This process should not take too long, but allow up to a minute to install it.</li>
</ol>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img03.png" alt="" /></p>
<ol start="5">
<li>When it is finished, we can take a look at the library in the library manager column, where it should say <strong>&quot;INSTALLED&quot;</strong>.</li>
</ol>
<p><img src="../installing-a-library-img04.png" alt="" /></p>
<p>Congratulations! You have now successfully downloaded and installed a library on your machine.</p>
<h4 id="Including_a_Library">Including a Library&nbsp;<a class="anchor" href="#Including_a_Library">&#xE732;</a></h4>
<p>To use a library, you first need to include the library at the top of the sketch.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img05.png" alt="" /></p>
<p>Almost all libraries come with already made examples that you can use. These are accessible through File &gt; Examples &gt; {Library} &gt; {Example}. In this example, we are choosing the RTCZero &gt; SimpleRTC.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img06.png" alt="" /></p>
<p>You can also access library examples directly in the library manager, by clicking the three dots next to the installed library, like this: </p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img06.5.png" alt="" /></p>
<p>The chosen example will now open up in a new window, and you can start using it however you want to.</p>
<p><img src="https://notes.ellermann.com/arduino/arduino-lab-3-ultrasonic-sensor/installing-a-library-img07.png" alt="" /></p>
<hr />
<p>Last Updated: 2024-05-10</p>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="https://notes.ellermann.com/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://notes.ellermann.com/search_index.en.js" defer></script>
<script type="text/javascript" src="https://notes.ellermann.com/js.js" defer></script>
	
</body>
</html>
